from django.http import HttpResponseRedirect
from django.shortcuts import render, get_object_or_404
from django.urls import reverse
from django.views import generic

from .models import Idea

# Create your views here.
class IndexView(generic.ListView):
    # model = Idea
    template_name = 'ideas/index.html'
    context_object_name = 'latest_ideas_list'
    latest_ideas_list = Idea.objects.order_by('-pub_date')[:5]
    # template = loader.get_template('ideas/index.html')
    # output = ', '.join([q.idea_text for q in latest_ideas_list])
    #context = {
    #    'latest_ideas_list': latest_ideas_list,
    # }
    def get_queryset(self):
       return {
        'latest_ideas_list': latest_ideas_list,
     }
   # Idea.objects.order_by('-pub_date')[:5]
    
    # return HttpResponse(template.render(context, request))
    # return render(request, 'ideas/index.html', context)

class DetailView(generic.DetailView):
    model = Idea
    template_name = 'ideas/details.html'
    #idea = get_object_or_404(Idea, pk=id)
    #return render(request, 'ideas/details.html', {'idea': idea})

def editView(request, id):
    model = Idea
    template_name = 'ideas/edit.html'
    return HttpResponse("Hey your ideas are awesome.")

def addView(request):
    model = Idea
    template_name = 'ideas/add.html'
    return HttpResponse("Hey your ideas are awesome.")
